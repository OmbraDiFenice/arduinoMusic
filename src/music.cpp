#include <Arduino.h>

constexpr unsigned int SPEAKER_PIN = 8;
constexpr unsigned int tempo = 300;


template<unsigned int freq, unsigned long duration, unsigned int pitch = 0>
inline void play_note() {
    noTone(SPEAKER_PIN);
    constexpr float d = (duration / 100.f);
    tone(SPEAKER_PIN, freq << pitch, d * tempo);
    delay(d * tempo);
    noTone(SPEAKER_PIN);
}

template<unsigned long duration>
inline void pause() {
    delay((duration / 100.f) * tempo);
}

template<unsigned long duration, unsigned int pitch = 0> void C () { play_note<16, duration, pitch>(); } // C , C
template<unsigned long duration, unsigned int pitch = 0> void Cs() { play_note<17, duration, pitch>(); } // C#, C sharp
template<unsigned long duration, unsigned int pitch = 0> void Db() { play_note<17, duration, pitch>(); } // Db, D flat
template<unsigned long duration, unsigned int pitch = 0> void D () { play_note<18, duration, pitch>(); } // D , D
template<unsigned long duration, unsigned int pitch = 0> void Ds() { play_note<19, duration, pitch>(); } // D#, D sharp
template<unsigned long duration, unsigned int pitch = 0> void Eb() { play_note<19, duration, pitch>(); } // Eb, E flat
template<unsigned long duration, unsigned int pitch = 0> void E () { play_note<20, duration, pitch>(); } // E , E
template<unsigned long duration, unsigned int pitch = 0> void Fa() { play_note<21, duration, pitch>(); } // F , F
template<unsigned long duration, unsigned int pitch = 0> void Fs() { play_note<23, duration, pitch>(); } // F#, F sharp
template<unsigned long duration, unsigned int pitch = 0> void Gb() { play_note<23, duration, pitch>(); } // Gb, G flat
template<unsigned long duration, unsigned int pitch = 0> void G () { play_note<24, duration, pitch>(); } // G , G
template<unsigned long duration, unsigned int pitch = 0> void Gs() { play_note<25, duration, pitch>(); } // G#, G sharp
template<unsigned long duration, unsigned int pitch = 0> void Ab() { play_note<25, duration, pitch>(); } // Ab, A flat
template<unsigned long duration, unsigned int pitch = 0> void A () { play_note<27, duration, pitch>(); } // A , A
template<unsigned long duration, unsigned int pitch = 0> void As() { play_note<29, duration, pitch>(); } // A#, A sharp
template<unsigned long duration, unsigned int pitch = 0> void Bb() { play_note<29, duration, pitch>(); } // Bb, B flat
template<unsigned long duration, unsigned int pitch = 0> void B () { play_note<30, duration, pitch>(); } // B , B
template<unsigned long duration>                         void P () { pause<duration>(); }                // pause



void superMario() {
  // 1
  D<50, 3>(); D<50, 3>(); P<50>(); D<50, 3>(); P<50>(); D<50, 3>(); D<100, 3>();
    G<100, 3>(); P<100>(); G<100, 2>(); P<100>();

    for(int i = 0; i < 2; ++i) {
        G<100, 3>(); P<50>(); E<100, 3>(); P<50>(); C<100, 3>();
        P<50>(); Fa<100, 3>(); G<100, 3>(); Gb<50, 3>(); Fa<100, 3>();
        E<66, 3>(); C<66, 4>(); E<68, 4>(); Fa<100, 5>(), D<50, 4>(); E<50, 4>();
        P<50>(); C<100, 4>(); A<50, 3>(); B<50, 3>(); G<100, 3>(); P<50>();
    }

    for(int i = 0; i < 2; ++i) {
        // 7
        C<100, 3>(); P<50>(); G<50, 3>(); P<100>(); C<100, 4>();
        Fa<100, 3>(); P<50>(); C<50, 4>(); C<100, 4>(); Fa<100, 3>();
        C<100, 3>(); P<50>(); G<50, 3>(); P<100>(); G<50, 3>(); C<50, 4>();
        P<200>(); P<100>(); G<100, 3>();
        C<100, 3>(); P<50>(); G<50, 3>(); P<100>(); C<100, 4>();

        // 12
        Fa<100, 3>(); P<50>(); C<50, 4>(); C<100, 4>(); Fa<100, 3>();
        C<100, 3>(); Ab<100, 3>(); P<50>(); Bb<100, 3>(); P<50>();
        C<100, 4>(); P<50>(); G<50, 3>(); G<100, 3>(); C<100, 3>();
    }
  
  Ab<100, 2>(); P<50>(); Eb<50, 3>(); P<50>(); P<50>(); Ab<100, 3>();
  G<100, 3>(); P<50>(); C<50, 3>(); P<100>(); G<100, 2>();
  
  // 17
  Ab<100, 2>(); P<50>(); Eb<50, 3>(); P<50>(); P<50>(); Ab<100, 3>();
  G<100, 3>(); P<50>(); C<50, 3>(); P<100>(); G<100, 2>();
  Ab<100, 2>(); P<50>(); Eb<50, 3>(); P<50>(); P<50>(); Ab<100, 3>();
  G<100, 3>(); P<50>(); C<50, 3>(); P<100>(); G<100, 2>();
  D<50, 3>(); D<50, 3>(); P<50>(); D<50, 3>(); P<50>(); D<50, 3>(); D<100, 3>();
  G<100, 3>(); P<100>(); G<100, 2>(); P<100>();

  for(int i = 0; i < 2; ++i) {
    // 23
    G<100, 3>(); P<50>(); E<100, 3>(); P<50>(); C<100, 3>();
        P<50>(); Fa<100, 3>(); G<100, 3>(); Gb<50, 3>(); Fa<100, 3>();
        E<66, 3>(); C<66, 4>(); E<68, 4>(); Fa<100, 5>(), D<50, 4>(); E<50, 4>();
        P<50>(); C<100, 4>(); A<50, 3>(); B<50, 3>(); G<100, 3>(); P<50>();
  }
  
  for(int i = 0; i < 2; ++i) {
    C<100, 3>(); P<50>(); Fs<50, 3>(); G<100, 3>(); C<100, 4>();
    Fa<100, 3>(); Fa<100, 3>(); C<50, 4>(); C<50, 4>(); Fa<100, 3>();
    
    // 29
    D<100, 3>(); P<50>(); Fa<50, 3>(); G<100, 3>(); B<100, 3>();
    Fa<100, 3>(); Fa<100, 3>(); C<50, 4>(); C<50, 4>(); Fa<100, 3>();
    C<100, 3>(); P<50>(); Fs<50, 3>(); G<100, 3>(); C<100, 4>();
    Fa<100, 3>(); Fa<100, 3>(); C<50, 4>(); C<50, 4>(); Fa<100, 3>();
    G<50, 3>(); G<100, 3>(); G<50, 3>(); G<66, 3>(); A<66, 3>(); B<68, 3>();
    C<100, 4>(); G<100, 3>(); C<100, 3>(); P<100>();
  }
  
  // 35
  Ab<100, 2>(); P<50>(); Eb<50, 3>(); P<50>(); P<50>(); Ab<100, 3>();
  G<100, 3>(); P<50>(); C<50, 3>(); P<100>(); G<100, 2>();
  Ab<100, 2>(); P<50>(); Eb<50, 3>(); P<50>(); P<50>(); Ab<100, 3>();
  G<100, 3>(); P<50>(); C<50, 3>(); P<100>(); G<100, 2>();
  Ab<100, 2>(); P<50>(); Eb<50, 3>(); P<50>(); P<50>(); Ab<100, 3>();
  
  // 40
  G<100, 3>(); P<50>(); C<50, 3>(); P<100>(); G<100, 2>();
  D<50, 3>(); D<50, 3>(); P<50>(); D<50, 3>(); P<50>(); D<50, 3>(); D<100, 3>();
  G<100, 3>(); P<100>(); B<100, 2>(); P<100>();
  
  for(int i = 0; i < 2; ++i) {
    C<100, 3>(); P<50>(); Fs<50, 3>(); G<100, 3>(); C<100, 4>();
    Fa<100, 3>(); Fa<100, 3>(); C<50, 4>(); C<50, 4>(); Fa<100, 3>();
    D<100, 3>(); P<50>(); Fa<50, 3>(); G<100, 3>(); B<100, 3>();
    
    // 46
    Fa<100, 3>(); Fa<100, 3>(); C<50, 4>(); C<50, 4>(); Fa<100, 3>();
    C<100, 3>(); P<50>(); Fs<50, 3>(); G<100, 3>(); C<100, 4>();
    Fa<100, 3>(); Fa<100, 3>(); C<50, 4>(); C<50, 4>(); Fa<100, 3>();
    G<50, 3>(); G<100, 3>(); G<50, 3>(); G<66, 3>(); A<66, 3>(); B<68, 3>();
    C<100, 4>(); G<100, 3>(); C<100, 3>(); P<100>();
  }
  
  G<100, 3>(); P<50>(); E<100, 3>(); P<50>(); G<100, 2>();
  Fa<200, 3>(); Db<200, 3>();
  C<400, 3>();
}

void piratesOfTheCaribbeans() {
	// taken from https://musescore.com/onnikoivisto/scores/3992921

	// 1
  D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5    >(); D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5     >(); 
  D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5    >(); D <45 , 4>(); P <5     >(); D <45 , 4>(); P <5     >(); D <45 , 4>(); P <5     >(); 
  D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5    >(); D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5     >(); 
  D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5    >(); D <45 , 4>(); P <5     >(); D <45 , 4>(); P <5     >(); D <45 , 4>(); P <5     >(); 
  D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5    >(); D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5     >();
  D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5    >(); D <45 , 4>(); P <5     >(); A <50 , 3>(); C <50 , 4>();
  D <95 , 4>(); P <5     >(); D <95 , 4>(); P <5    >(); D <45 , 4>(); P <5     >(); E <50 , 4>();

  // 8
  Fa<95 , 4>(); P <5     >(); Fa<95 , 4>(); P <5     >(); Fa<50 , 4>(); G <50 , 4>();
  E <95 , 4>(); P <5     >(); E <100, 4>(); D <50 , 4>(); C <45 , 4>(); P <5     >();
  C <50 , 4>(); D <100, 4>(); P <25    >(); A <50 , 3>(); C <50 , 4>();
  D <95 , 4>(); P <5     >(); D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5     >(); E <50 , 4>();
  Fa<95 , 4>(); P <5     >(); Fa<95 , 4>(); P <5     >(); Fa<50 , 4>(); G <50 , 4>();
  E <95 , 4>(); P <5     >(); E <100, 4>(); D <50 , 4>(); C <45 , 4>(); P <5     >();
  D <100, 4>(); P <50    >(); A <50 , 3>(); C <50 , 4>();
  D <95 , 4>(); P <5     >(); D <95 , 4>(); P <5     >(); D <45 , 4>(); P <5     >(); Fa<50 , 4>();

  // 16
  G <95 , 4>(); P <5     >(); G <95 , 4>(); P <5     >(); G <50 , 4>(); A <50 , 4>();
  Bb<95 , 4>(); P <5     >(); Bb<100, 4>(); A <50 , 4>(); G <50 , 4>();
  A <50 , 4>(); D <100, 4>(); P <25    >(); D <50 , 4>(); E <50 , 4>();
  Fa<95 , 4>(); P <5     >(); Fa<100, 4>(); G <100, 4>();
  A <50 , 4>(); D <100, 4>(); P <25    >(); D <50 , 4>(); Fa<50 , 4>();
  E <95 , 4>(); P <5     >(); E <100, 4>(); Fa<50 , 4>(); D <50 , 4>();
  E <100, 4>(); P <50    >(); A <50 , 4>(); C <50 , 5>();
  D <95 , 5>(); P <5     >(); D <95 , 5>(); P <5     >(); D <50 , 5>(); E <50 , 5>();

  // 24
  Fa<95 , 5>(); P <5     >(); Fa<95 , 5>(); P <5     >(); Fa<50 , 5>(); G <50 , 5>();
  E <95 , 5>(); P <5     >(); E <100, 5>(); D <50 , 5>(); C <45 , 5>(); P <5     >();
  C <50 , 5>(); D <50 , 5>(); P <25    >(); A <50 , 4>(); C <50 , 5>();
  D <95 , 5>(); P <5     >(); D <95 , 5>(); P <5     >(); D <50 , 5>(); E <50 , 5>();
  Fa<95 , 5>(); P <5     >(); Fa<95 , 5>(); P <5     >(); Fa<50 , 5>(); G <50 , 5>();
  E <95 , 5>(); P <5     >(); E <100, 5>(); D <50 , 5>(); C <45 , 5>(); P <5     >();
  D <100, 5>(); P <50    >(); A <50 , 4>(); C <50 , 5>();
  D <95 , 5>(); P <5     >(); D <95 , 5>(); P <5     >(); D <50 , 5>(); Fa<50, 5>();

  // 32
  G <95 , 5>(); P <5     >(); G <95 , 5>(); P <5     >(); G <50 , 5>(); A <50 , 5>();
  Bb<95 , 5>(); P <5     >(); Bb<100, 5>(); A <50 , 5>(); G <50 , 5>();
  A <50 , 5>(); D <100, 5>(); P <25    >(); D <50 , 5>(); E <50 , 5>();
  Fa<95 , 5>(); P <5     >(); Fa<100, 5>(); G <100, 5>();
  A <50 , 5>(); D <100, 5>(); P <25    >(); D <50 , 5>(); Fa<50 , 5>();
  E <95 , 5>(); P <5     >(); E <100, 5>(); D <50 , 5>(); C <45 , 5>(); P <5     >();
  D <95 , 5>(); P <5     >(); D <100, 5>(); E <100, 5>();
  Fa<95 , 5>(); P <5     >(); Fa<100, 5>(); G <100, 5>();
	A <200, 5>(); Fa<50 , 5>(); D <50 , 5>();

	// 41
	A <300, 4>();
	Bb<200, 5>(); G <50 , 5>(); D <50 , 5>();
	Bb<300, 4>();
	D <145, 4>(); P <5     >(); D <150, 4>();
	Cs<100, 4>(); P <50    >(); Fa<50 , 4>(); G <50 , 4>();
	A <95 , 4>(); P <5     >(); A <95 , 4>(); P <5     >(); A <100, 4>();
	Bb<50 , 4>(); A <200, 4>(); P <25    >();
	G <95 , 4>(); P <5     >(); G <95 , 4>(); P <5     >(); G <95 , 4>(); P <5     >();
	G <50 , 4>(); A <200, 4>(); P <25    >();
	A <95 , 4>(); P <5     >(); A <95 , 4>(); P <5     >(); A <100, 4>();

	// 51
	Bb<50 , 4>(); A <200, 4>(); P <25    >();
	G <100, 4>(); Fa<100, 4>(); E <100, 4>();
	D <195, 4>(); P <5     >(); D <50 , 4>(); E <50 , 4>();
	Fa<200, 4>(); G <50 , 4>(); A <50 , 4>();
	G <100, 4>(); Fa<100, 4>(); E <100, 4>();
	Fa<100, 4>(); G <100, 4>(); A <100, 4>();
	G <200, 4>(); Fa<50 , 4>(); G <50 , 4>();
	A <200, 4>(); G <50 , 4>(); Fa<50 , 4>();
	E <100, 4>(); Fa<100, 4>(); E <100, 4>();
	D <200, 4>(); E <50 , 4>(); C <50 , 4>();

	// 61
	D <200, 4>(); D <50 , 5>(); E <50 , 5>();
	Fa<200, 5>(); E <50 , 5>(); Fa<50 , 5>();
	G <100, 5>(); Fa<100, 5>(); G <100, 5>();
	A <100, 5>(); G <100, 5>(); Fa<100, 5>();
	D <195, 5>(); P <5     >(); D <50 , 5>(); E <50 , 5>();
	Fa<100, 5>(); G <100, 5>(); A <100, 5>();
	Bb<100, 5>(); D <100, 5>(); G <100, 5>();
	Fa<200, 5>(); G <50 , 5>(); E <50 , 5>();
	D <200, 5>(); E <50 , 5>(); Cs<50 , 5>();
	A <300, 5>();

	// 71
	Bb<300, 5>();
	A <95 , 5>(); P <5     >(); A <95 , 5>(); P <5     >(); A <95 , 5>(); P <5     >(); 
	A <50 , 5>(); G <200, 5>(); P <25    >();
	G <300, 5>();
	Fa<300, 5>();
	E <100, 5>(); Fa<100, 5>(); E <100, 5>();
	D <145, 5>(); P <5     >(); D <50 , 5>(); E <50 , 5>(); Fa<50 , 5>();
	A <150, 5>(); D <50 , 5>(); E <50 , 5>(); Fa<50 , 5>();
	Bb<150, 5>(); D <50 , 5>(); E <50 , 5>(); Fa<50 , 5>();

	// 80
	A <95 , 5>(); P <5     >(); A <100, 5>(); C <100, 6>();
	A <50 , 5>(); G <200, 5>(); P <25    >();
	G <300, 5>();
	Fa<300, 5>();
	E <100, 5>(); Fa<100, 5>(); E <100, 5>();
	D <300, 5>();
	D <300, 4>();
}

void setup() {
	piratesOfTheCaribbeans();
}

void loop() {

}
